@using Domain.Core
@model OrderViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <title>Оформление заказа</title>
</head>
<body>
    <div>
        <h3>Форма оформления покупки</h3>
        <p>Для оформления покупки заполните следующие поля:</p>
        <form asp-action="CreateOrder" asp-controller="Order">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="text-black-50">
                <label asp-for="Name" class="control-label">Имя</label>
                <input type="text" asp-for="Name" value="@Model.User.UserData.Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="text-black-50">
                <label asp-for="City" class="control-label">Город</label>
                <input type="text" asp-for="City" value="@Model.User.UserData.City.city" class="form-control" />
                <span asp-validation-for="City" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Comment" class="control-label">Название</label>
                <input type="text" asp-for="Comment" class="form-control" />
                <span asp-validation-for="Comment" class="text-danger"></span>
            </div>
            <div class="text-black-50">
                <label asp-for="Date" class="control-label">Название</label>
                <input type="text" asp-for="Date" value="@Model.Date" class="form-control" />
                <span asp-validation-for="Date" class="text-danger"></span>
            </div>
            <div class="text-black-50">
                <label asp-for="lines" class="control-label">Цена</label>
                <input type="hidden" asp-for="lines" value="@Model.cart" class="form-control" />
                @foreach (Cartline p in Model.cart.Lines)
                {
                <table>
                    <tr>
                        <td>@p.Product.PName</td>
                        <td>@p.Quantity</td>
                        <td>@p.TotalCostProducts.ToString("№ грн")</td>
                    </tr>
                </table>
                }
            </div>
            <div class="text-black-50">
                <label class="control-label">Итоговая цена</label>
                <h5>@Model.cart.TotalCostAllProducts.ToString("# грн")"</h5>
            </div>
            <div>
                <input type="hidden" asp-for="cart" value="@Model.cart" />
            </div>
            <div>
                <input type="submit" value="Оформить" class="btn" />
            </div>
        </form>
    </div>
</body>
</html>

